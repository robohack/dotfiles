#
#	.kshlogin - login shell startup for ksh
#
#ident	"@(#)HOME:.kshlogin	19.1	98/01/11 20:58:19 (woods)"

set -o ignoreeof	# we only do this for our login shell....

export FPATH=$HOME/lib/ksh
export FCEDIT="$(whence ed)"

export ENVFILE=$HOME/.kshrc

if [ -n "$ENVFILE" -a -r "$ENVFILE" ] ; then
	# the one in the book says....
	#
	#export ENV='${ENVFILE[(_$-=0)+(_=1)-_${-%%*i*}]}'
	#
	# this one seems more correct, and I think was what Korn posted
	# to Usenet once upon a time (it also works with all the
	# versions of ksh I've run across, including ksh-85 and AIX-3.2)
	#
	export ENV='${ENVFILE[(_$-=1)+(_=0)-(_$-!=_${-%%*i*})]}'
fi

export HISTSIZE=2000

if [ -z "$LOGNAME" ] ; then
	# some systems won't allow this...
	export LOGNAME=${HOME##*/}
fi

if [ -z "$PROJECT" ] ; then
	export PROJECT="SCCS"
fi

export PWD=$HOME
export OLDPWD=$HOME

if [ -z "$MAILPATH" ] ; then
	if [ -d /var/spool/mail ] ; then
		export MAILPATH="/var/spool/mail/$LOGNAME"
	elif [ -d /usr/mail ] ; then
		export MAILPATH="/usr/mail/$LOGNAME"
	elif [ -d /usr/spool/mail ] ; then
		export MAILPATH="/usr/spool/mail/$LOGNAME"
	fi		
fi

# make sure these directories are fixed in even if they are not
# present at login time.
#
export CDPATH=":$HOME:$HOME/src:$HOME/src/lib:$HOME/src/work.d\
:$HOME/work.d:$HOME/lib:$WORKPATH"

dirappend CDPATH /usr/src /usr/src/lib /usr/src/cmd /usr/src/add-on /usr/src/uts
dirappend CDPATH /usr/src/bin /usr/src/distrib /usr/src/domestic /usr/src/etc
dirappend CDPATH /usr/src/games /usr/src/gnu /usr/src/include /usr/src/lib
dirappend CDPATH /usr/src/libexec /usr/src/regress /usr/src/sbin /usr/src/share
dirappend CDPATH /usr/src/sys /usr/src/usr.bin /usr/src/usr.sbin
dirappend CDPATH /usr/src/local /usr/src/local/lib /usr/src/local/cmd
dirappend CDPATH $LOCAL/src $LOCAL/src/lib $LOCAL/src/gnu $LOCAL/src/bsd
dirappend CDPATH /usr/src/ucbcmd /usr/src/ucblib
dirappend CDPATH $LOCAL $LOCAL/lib /opt /usr/lib /usr/spool / /usr
