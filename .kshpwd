#
#	.kshpwd - local stuff to abbreviate PWD...
#
#ident	"@(#)HOME:.kshpwd	2.1	94/02/16 18:17:39 (woods)"

if [ "$PWD" = "$HOME" ] ; then
	PWD='~'
fi
unalias cd
alias cd='_cd'
function _cd
{
	\cd $*
	case "$PWD" in
	/kuma/*)
		PWD="${PWD#/kuma}"
		PWDREMHOST=kuma
		;;
	/araignee/*)
		PWD="${PWD#/araignee}"
		PWDREMHOST=araignee
		;;
	/tar/*)
		PWD="${PWD#/tar}"
		PWDREMHOST=tar
		;;
	*)
		PWDREMHOST=""
		;;
	esac
	case "$PWD" in
	$HOME/src/*)
		PWD="${PWD#$HOME/src/}"
		;;
	${HOME})
		PWD='~'
		;;
	`dirname ${HOME}`/*)
		PWD='~'"${PWD#`dirname $HOME`/}"
		;;
	/home/*)
		PWD='~'"${PWD#/home/}"
		;;
	/usr/local/src/*)
		PWD="${PWD#/usr/local/src/}"
		;;
	/big/web/work.d/${LOGNAME}/*)
		PWD="${PWD#/big/web/work.d/${LOGNAME}/}"
		;;
	/big/web/work/*)
		PWD="${PWD#/big/web/work/}"
		;;
	/big/local/src/*)
		PWD="${PWD#/big/local/src/}"
		;;
	/apc/usr/web/webadmin/*)
		PWD='~'"${PWD#/apc/usr/web/webadmin/}"
		;;
	esac
	if [ -n "$PWDREMHOST" ] ; then
		PWD="$PWDREMHOST:$PWD"
	fi
	if [ "`ismpx`" = yes ] ; then
		eval myxban -l "\"$MYXBAN_L\""
	fi
	if [ "$TERM" = "xterm" ] ; then
		setban
	fi
}
