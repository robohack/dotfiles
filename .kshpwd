#
#	.kshpwd - local stuff to abbreviate PWD...
#
#ident	"@(#)HOME:.kshpwd	26.1	03/01/05 16:26:10 (woods)"

if [ "$PWD" = "$HOME" ] ; then
	PWD='~'
fi
unalias cd
alias cd='_cd'
function _cd
{
	\cd $*
	case "$PWD" in
	*/work.d/*)
		PWD='work.d:'"${PWD#*/work.d/}"
		;;
	${HOME})
		PWD='~'
		;;
	$(dirname ${HOME})/*)
		PWD='~'"${PWD#$(dirname $HOME)/}"
		;;
	/home/*)
		PWD='~'"${PWD#/home/}"
		;;
	/apc/usr/web/webadmin/*)
		PWD='~'"${PWD#/apc/usr/web/webadmin/}"
		;;
	*/src/*)
		PWD='src:'"${PWD#*/src/}"
		;;
	*)
		PWD="${PWD#/}"
		;;
	esac
	if [ "$(ismpx)" = yes ] ; then
		eval myxban -l "\"$MYXBAN_L\""
	fi
	if type setban > /dev/null ; then
		setban
	fi
}

# make sure PWD is now set right...
cd; cd -
