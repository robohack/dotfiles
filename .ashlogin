#
#	.ashlogin - login shell startup for ash
#
#ident	"@(#)HOME:.ashlogin	37.3	24/09/26 13:44:38 (woods)"

_interactive=false
case "$-" in
*i*)
	_interactive=true
	;;
esac
case "$0" in
-*)
	# Schily Bourne Shell doesn't seem to fully set $- until late...
	#
	_interactive=true
	;;
esac

if ${_interactive}; then
	#
	# Commands for interactive shells.
	#
	# NOTE: This should _always_ be true for any shell sourcing this file!
	#
	echo "$0: setup for Almquist's Shell"

	set -o ignoreeof	# we only do this for our login shell....

	# for emacs timeclock.el
	#
	if [ ! -f ~/.timelog ] ; then
		touch ~/.timelog
	fi

	export ENVFILE=$HOME/.ashrc
	if [ -r "$ENVFILE" ] ; then
		export ENV=$ENVFILE
	fi

	export HISTSIZE=2000
else
	echo "$0: WARNING: ~/.ashlogin being sourced by a non-interactive shell! (\$-=$-)"
fi
unset _interactive

# xxx NetBSD /bin/sh (and dash) does not support FPATH
if [ -d $HOME/lib/sh ]; then
	export FPATH=$HOME/lib/sh
fi

if [ -z "$LOGNAME" ] ; then
	# some systems won't allow this...
	export LOGNAME=${USER}
fi
