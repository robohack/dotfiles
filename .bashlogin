#
#	.bashlogin - login shell startup for bash
#
#ident	"@(#)HOME:.bashlogin	19.2	98/04/26 15:59:46 (woods)"

set -o ignoreeof	# we only do this for our login shell....

export ENV=$HOME/.bashrc
if [ -r $ENV ] ; then
	. $ENV
fi

export FCEDIT=$(type -path ed)
export HISTSIZE=2000
if [ "$TTY" = "not a tty" ] ; then
	echo "Trying to fix TTY..."
	TTY=$(tty)
	TTYN=$(basename $TTY)
	setban
fi

if [ -z "$LOGNAME" ] ; then
	# some systems won't allow this...
	export LOGNAME=${HOME##*/}
fi

if [ -z "$PROJECT" ] ; then
	export PROJECT="SCCS"
fi

case "$UUNAME" in
kuma*)
	export WORKDIR="/apcsoft/work.d/$LOGNAME"
	;;
tar*)
	export WORKDIR="/kuma/apcsoft/work.d/$LOGNAME"
	;;
*)
	if [ -d $LOCAL/work.d ] ; then
		export WORKDIR="$LOCAL/work.d"
	elif [ -d $HOME/src/work.d ] ; then
		export WORKDIR="$HOME/src/work.d"
	else
		export WORKDIR="$HOME/work.d"
	fi
	;;
esac

export PWD=$HOME
export OLDPWD=$HOME

# use MAIL instead of MAILPATH, primarily to avoid the clash of using
# a POP specification in MAILPATH for emacs VM
# 
unset MAILPATH
if [ -z "$MAIL" ] ; then
	if [ -d /var/mail ] ; then
		MAIL="/var/mail/$LOGNAME"
	elif [ -d /var/spool/mail ] ; then
		MAIL="/var/spool/mail/$LOGNAME"
	elif [ -d /usr/mail ] ; then
		MAIL="/usr/mail/$LOGNAME"
	elif [ -d /usr/spool/mail ] ; then
		MAIL="/usr/spool/mail/$LOGNAME"
	fi
fi
export MAIL

# make sure these directories are fixed in even if they are not
# present at login time.
#
export CDPATH=":$HOME:$WORKPATH:$HOME/src:$HOME/src/lib:$HOME/lib"

dirappend CDPATH /usr/src /usr/src/lib /usr/src/cmd /usr/src/add-on /usr/src/uts
dirappend CDPATH /usr/src/bin /usr/src/distrib /usr/src/domestic /usr/src/etc
dirappend CDPATH /usr/src/games /usr/src/gnu /usr/src/include /usr/src/lib
dirappend CDPATH /usr/src/libexec /usr/src/regress /usr/src/sbin /usr/src/share
dirappend CDPATH /usr/src/sys /usr/src/usr.bin /usr/src/usr.sbin
dirappend CDPATH /usr/src/local /usr/src/local/lib /usr/src/local/cmd
dirappend CDPATH $LOCAL/src $LOCAL/src/lib $LOCAL/src/gnu $LOCAL/src/bsd
dirappend CDPATH /usr/src/ucbcmd /usr/src/ucblib
dirappend CDPATH $LOCAL $LOCAL/lib /opt /usr/lib /usr/spool / /usr
